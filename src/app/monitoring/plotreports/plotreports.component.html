<div class="col-12">
  <div class="card">

    <!-- toolbar -->
    <p-toolbar styleClass="p-mb-4">
      <ng-template pTemplate="left">
        <h4>Plot Reports</h4>
      </ng-template>
      <ng-template pTemplate="right" *ngIf="!forapproval">
        <button pButton pRipple label="New Plot Report" icon="pi pi-plus" class="p-button-success p-mr-2"
          (click)="addPlotReport()"></button>
      </ng-template>
    </p-toolbar>

    <!-- table -->
    <p-table #dt1 [value]="plotReports" [columns]="farmerHeaders" dataKey="farmerCode" [rows]="10" [rowHover]="true"
      styleClass="p-datatable-gridlines p-datatable-striped p-datatable-sm" [paginator]="true"
      [globalFilterFields]="globalFilterFields" [autoLayout]="true" responsiveLayout="scroll"
      [rowsPerPageOptions]="[10,25,50]" [tableStyle]="{ width: 'max-content'}">
      <ng-template pTemplate="caption">
        <div class="flex justify-content-between flex-column sm:flex-row">
          <button pButton label="Clear" class="p-button-outlined mb-2" icon="pi pi-filter-slash"
            (click)="clear(dt1)"></button>
          <div>
            <span class="p-input-icon-left mb-2">
              <i class="pi pi-search"></i>
              <input pInputText type="text" #filter (input)="onSearch()" placeholder="Search Keyword"
                pTooltip="Search By Farmer Name, Farmer Code, Village Name, Plot No, Offer No" class="w-full" />
            </span>
            <p-dropdown class="ml-2" placeholder="Select a season" optionLabel="name" [options]="seasons"
              [(ngModel)]="currentSeason.seasonId" (onChange)="initPlotReports($event.value)" optionValue="seasonId">
            </p-dropdown>
          </div>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th></th>
          <th *ngFor="let col of farmerHeaders" [pSortableColumn]="col.header">
            {{col?.label}} <p-sortIcon field="code">
            </p-sortIcon>
            <p-columnFilter type="text" [field]="col.header" display="menu"></p-columnFilter>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-farmer let-expanded="expanded">
        <tr>
          <td>
            <button type="button" pButton pRipple [pRowToggler]="farmer"
              class="p-button-text p-button-rounded p-button-plain"
              [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
          </td>
          <td *ngFor="let col of farmerHeaders">
            {{farmer[col.field]}}
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="rowexpansion" let-farmer>
        <tr>
          <td colspan="15">
            <div class="p-3">
              <p-table [value]="farmer.objReportedPlots" [columns]="plotHeaders" dataKey="plotId">
                <ng-template pTemplate="header">
        <tr>
          <th></th>
          <th *ngFor="let col of plotHeaders" [pSortableColumn]="col.header">
            {{col?.label}} <p-sortIcon field="code">
            </p-sortIcon>
            <p-columnFilter type="text" [field]="col.header" display="menu"></p-columnFilter>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-plotReport>
        <tr>
          <td><button pButton pRipple icon="pi pi-pencil" class="p-element p-ripple p-button-text p-button p-component"
              (click)="editPlotReport(plotReport, farmer)" *ngIf="!forapproval"></button>
            <button pButton pRipple icon="pi pi-thumbs-up" class="p-element p-ripple p-button-text p-button p-component"
              (click)="editApproval(plotReport, farmer)" *ngIf="forapproval"></button>
          </td>
          <td *ngFor="let col of plotHeaders">
            <span
              *ngIf="col?.field != 'plantingDate' && col?.field != 'createdAt' && col?.field != 'updatedAt'">{{plotReport[col.field]}}</span>
            <span *ngIf="col?.field == 'plantingDate' || col?.field == 'createdAt' || col?.field == 'updatedAt'">
              {{plotReport[col.field] | date: 'dd-MM-yyyy'}}
            </span>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="15">There Are No Plots For This Farmer Yet.</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  </td>
  </tr>
  </ng-template>

  <ng-template pTemplate="emptymessage">
    <tr>
      <td class="md:text-center" colspan="5">No Plot Reports Found.</td>
    </tr>
  </ng-template>
  </p-table>

  <p-dialog header="Plot Report" [(visible)]="showDialog" [modal]="true" showEffect="fade" [style]="{width: '60vw'}"
    [breakpoints]="{'960px': '90vw'}" (onHide)="clearForm()">
    <ng-template pTemplate="content">
      <div class="flex flex-column align-items-center justify-content-center">
        <form [formGroup]="fbPlotReport" (ngSubmit)="onSubmit()">
          <p-fieldset legend="Reported Area(Doc10)" class="col-12" [toggleable]="true" [transitionOptions]="'500ms'">
            <div class="p-fluid p-formgrid grid px-1">
              <div class="field col-12 md:col-4">
                <label class="required">Season:</label>
                <p-dropdown placeholder="Select Season" optionLabel="code" [options]="seasons" optionValue="seasonId"
                  formControlName="seasonId" (onChange)="getPlotOffersInSeason($event.value,-1)"
                  [ngClass]="{ 'is-invalid ng-dirty': FormControls['seasonId'].touched && FormControls['seasonId'].errors }">
                </p-dropdown>
                <span *ngIf="FormControls['seasonId'].touched && FormControls['seasonId'].invalid">
                  <div class="ng-invalid ng-touched p-error" *ngIf="FormControls['seasonId'].errors?.['required']">
                    Please Select Season.</div>
                </span>
              </div>
              <div class="field col-12 md:col-6">
                <label class="required">Offered No:</label>
                <p-dropdown placeholder="Select Offered No" optionLabel="DisplayValue" [options]="seasonPlotOffers"
                  formControlName="plotOfferId" optionValue="id" [virtualScroll]="true" [virtualScrollItemSize]="20"
                  (onChange)="getOfferInfo($event.value)"
                  [ngClass]="{ 'is-invalid ng-dirty': FormControls['plotOfferId'].touched && FormControls['plotOfferId'].errors }">
               <!-- <ng-template pTemplate="selectedItem">
                    <div class="flex align-items-center gap-2" *ngIf="selectedCountry">
                        <img src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png" [class]="'flag flag-' + selectedCountry.code.toLowerCase()" style="width: 18px"/>
                        <div>{{ selectedCountry.name }}</div>
                    </div>
                </ng-template> -->
                <ng-template let-seasonPlotOffer pTemplate="item">
                    <div class="block align-items-center gap-2">
                        <div>{{seasonPlotOffer.offerNo}}-{{seasonPlotOffer.farmerCode}}</div>
                        <div>{{seasonPlotOffer.farmerName}}</div>
                        <div>{{seasonPlotOffer.plotVillageName}}</div>
                    </div>
                </ng-template>
                </p-dropdown>
                <span *ngIf="FormControls['plotOfferId'].touched && FormControls['plotOfferId'].invalid">
                  <div class="ng-invalid ng-touched p-error" *ngIf="FormControls['plotOfferId'].errors?.['required']">
                    Please Select Offer No.</div>
                </span>
              </div>
            </div>
            <p-fieldset legend="Ryot Details" class="col-12" [toggleable]="true" [transitionOptions]="'500ms'">
              <div class="p-fluid p-formgrid grid">
                <div class="field col-12 md:col-4">
                  <label>Ryot No:</label>
                  <p class="disabled_text">{{plotOfferDto.farmerCode}}</p>
                  <!-- <input pInputText id="farmerId" type="text" formControlName="farmerId" readonly> -->
                </div>
                <div class="field col-12 md:col-4">
                  <label>Ryot Name:</label>
                  <p class="disabled_text">{{plotOfferDto.farmerName}}</p>
                  <!-- <input pInputText id="farmerName" type="text" formControlName="farmerName" readonly> -->
                </div>
                <div class="field col-12 md:col-4">
                  <label>Father Name:</label>
                  <p class="disabled_text">{{plotOfferDto.fatherName}}</p>
                  <!-- <input pInputText id="fatherName" type="text" formControlName="fatherName" readonly> -->
                </div>
                <div class="field col-12 md:col-4">
                  <label>Farmer Division:</label>
                  <p class="disabled_text">{{plotOfferDto.farmerDivisionName}}</p>
                  <!-- <input pInputText id="farmerDivision" type="text" formControlName="farmerDivision" readonly> -->
                </div>
                <div class="field col-12 md:col-4">
                  <label>Farmer Circle:</label>
                  <p class="disabled_text">{{plotOfferDto.farmerCircleName}}</p>
                  <!-- <input pInputText id="farmerCircle" type="text" formControlName="farmerCircle" readonly> -->
                </div>
                <div class="field col-12 md:col-4">
                  <label>Farmer Section:</label>
                  <p class="disabled_text">{{plotOfferDto.farmerSectionName}}</p>
                  <!-- <input pInputText id="farmerSection" type="text" formControlName="farmerSection" readonly> -->
                </div>
                <div class="field col-12 md:col-4">
                  <label>Farmer Village:</label>
                  <p class="disabled_text">{{plotOfferDto.farmerVillageName}}</p>
                  <!-- <input pInputText id="farmerVillage" type="text" formControlName="farmerVillage" readonly> -->
                </div>
              </div>
            </p-fieldset>
            <p-fieldset legend="Plot Details" class="col-12" [toggleable]="true" [transitionOptions]="'500ms'">
              <div class="p-fluid p-formgrid grid">
                <div class="field col-12 md:col-4">
                  <label>Plot Division:</label>
                  <p class="disabled_text">{{plotOfferDto.plotDivisionName}}</p>
                  <!-- <input pInputText id="plotDivision" type="text" formControlName="plotDivision" readonly> -->
                </div>
                <div class="field col-12 md:col-4">
                  <label>Plot Circle:</label>
                  <p class="disabled_text">{{plotOfferDto.plotCircleName}}</p>
                  <!-- <input pInputText id="plotCircle" type="text" formControlName="plotCircle" readonly> -->
                </div>
                <div class="field col-12 md:col-4">
                  <label>Plot Section:</label>
                  <p class="disabled_text">{{plotOfferDto.plotSectionName}}</p>
                  <!-- <input pInputText id="plotSection" type="text" formControlName="plotSection" readonly> -->
                </div>
                <div class="field col-12 md:col-4">
                  <label>Cane Area Village:</label>
                  <p class="disabled_text">{{plotOfferDto.plotVillageName}}</p>
                  <!-- <input pInputText id="plotVillageName" type="text" formControlName="plotVillageName" readonly> -->
                </div>
                <!-- <div class="field col-12 md:col-4">
                    <label>Cane Area Village:<sup class="p-error">*</sup></label>
                    <p-dropdown placeholder="Select Cane Area Village" optionLabel="villageName" [options]="villages"
                      optionValue="villageId" formControlName="caneAreaVillageId">
                    </p-dropdown>
                    <spanplotNumber
                      *ngIf="FormControls['caneAreaVillageId'].touched && FormControls['caneAreaVillageId'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="FormControls['caneAreaVillageId'].errors?.['required']">
                        Please Select Cane Area Village.</div>
                    </span>
                  </div> -->
                <div class="field col-12 md:col-4">
                  <label>Plot Number:</label>
                  <p class="disabled_text">{{FormControls['plotNumber'].value}}</p>
                  <!-- <input pInputText id="plotNumber" type="text" formControlName="plotNumber" readonly> -->
                </div>
                <div class="field col-12 md:col-4">

                </div>
              </div>
              <div>
                <hr />
              </div>
              <div class="p-fluid p-formgrid grid">
                <div class="field col-12 md:col-4">
                  <label class="required">Plant Type:</label>
                  <p-dropdown placeholder="Select Plant Type" optionLabel="name" [options]="plantTypes"
                    optionValue="plantTypeId" formControlName="plantTypeId" (onChange)="onCalculation()">
                  </p-dropdown>
                  <span *ngIf="FormControls['plantTypeId'].touched && FormControls['plantTypeId'].invalid">
                    <div class="ng-invalid ng-touched p-error" *ngIf="FormControls['plantTypeId'].errors?.['required']">
                      Please Select Plant type.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Survey No:</label>
                  <!-- <p-inputNumber id="surveyNo" placeholder="Enter Survey No" formControlName="surveyNo" mode="decimal"
                      locale="en-IN" [minFractionDigits]="2" [maxFractionDigits]="2"
                      [ngClass]="{ 'is-invalid ng-dirty': FormControls['surveyNo'].touched && FormControls['surveyNo'].errors }">
                    </p-inputNumber> -->
                  <input pInputText id="surveyNo" placeholder="Enter Survey No" formControlName="surveyNo"
                    [ngClass]="{ 'is-invalid ng-dirty': FormControls['surveyNo'].touched && FormControls['surveyNo'].errors }">
                  <span *ngIf="FormControls['surveyNo'].touched && FormControls['surveyNo'].invalid">
                    <div class="ng-invalid ng-touched p-error" *ngIf="FormControls['surveyNo'].errors?.['required']">
                      Please Enter Survey No.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Reported Area (Acer):</label>
                  <p-inputNumber placeholder="Enter Reported Area" formControlName="reportedArea" mode="decimal"
                    locale="en-IN" [minFractionDigits]="2" [maxFractionDigits]="2" (keyup)="onCalculation()"
                    [ngClass]="{ 'is-invalid ng-dirty': FormControls['reportedArea'].touched && FormControls['reportedArea'].errors }">
                  </p-inputNumber>
                  <span *ngIf="FormControls['reportedArea'].touched && FormControls['reportedArea'].invalid">
                    <div class="ng-invalid ng-touched p-error"
                      *ngIf="FormControls['reportedArea'].errors?.['required']">
                      Please Enter Reported Area.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Planting Date:</label>
                  <p-calendar placeholder="Select Planting Date" [readonlyInput]="true" [showIcon]="true"
                    formControlName="plantingDate"
                    [ngClass]="{ 'is-invalid ng-dirty': FormControls['plantingDate'].touched && FormControls['plantingDate'].errors }">
                    <span *ngIf="FormControls['plantingDate'].touched && FormControls['plantingDate'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="FormControls['plantingDate'].errors?.['required']">
                        Please Select Planting Date.</div>
                    </span>
                  </p-calendar>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Plant Sub Type:</label>
                  <p-dropdown placeholder="Select Plant Sub Type" optionLabel="name" [options]="plantSubTypes"
                    optionValue="plantSubTypeId" formControlName="plantSubTypeId">
                    <span *ngIf="FormControls['plantSubTypeId'].touched && FormControls['plantSubTypeId'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="FormControls['plantSubTypeId'].errors?.['required']">
                        Please Select Plant Sub Type.</div>
                    </span>
                  </p-dropdown>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Variety:</label>
                  <p-dropdown placeholder="Select Variety" optionLabel="name" [options]="varieties"
                    optionValue="varietyId" formControlName="varietyId">
                  </p-dropdown>
                  <span *ngIf="FormControls['varietyId'].touched && FormControls['varietyId'].invalid">
                    <div class="ng-invalid ng-touched p-error" *ngIf="FormControls['varietyId'].errors?.['required']">
                      Please Select Variety.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-4">
                  <label>Agreed (Ton):</label>
                  <p class="disabled_text" style="font-weight: 800;">{{FormControls['agreed'].value}}</p>
                  <!-- <input pInputText id="agreed" type="text" formControlName="agreed" readonly> -->
                </div>
                <div class="field col-12 md:col-4">
                  <label>Field Name:</label>
                  <input pInputText id="fieldName" type="text" formControlName="fieldName">
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">BIR Number:</label>
                  <!-- <p-inputNumber id="birnumber" placeholder="Enter BIR No" formControlName="birnumber" mode="decimal"
                      locale="en-IN" [minFractionDigits]="2" [maxFractionDigits]="2"
                      [ngClass]="{ 'is-invalid ng-dirty': FormControls['birnumber'].touched && FormControls['birnumber'].errors }">
                    </p-inputNumber> -->
                  <input pInputText id="birnumber" placeholder="Enter BIR No" formControlName="birnumber"
                    [ngClass]="{ 'is-invalid ng-dirty': FormControls['birnumber'].touched && FormControls['birnumber'].errors }">
                  <span *ngIf="FormControls['birnumber'].touched && FormControls['birnumber'].invalid">
                    <div class="ng-invalid ng-touched p-error" *ngIf="FormControls['birnumber'].errors?.['required']">
                      Please Select BIR No.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">BIR Date:</label>
                  <p-calendar placeholder="Select BIR Date" [readonlyInput]="true" [showIcon]="true"
                    formControlName="birdate"
                    [ngClass]="{ 'is-invalid ng-dirty': FormControls['birdate'].touched && FormControls['birdate'].errors }">
                  </p-calendar>
                  <span *ngIf="FormControls['birdate'].touched && FormControls['birdate'].invalid">
                    <div class="ng-invalid ng-touched p-error" *ngIf="FormControls['birdate'].errors?.['required']">
                      Please Select BIR Date.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Plot Type:</label>
                  <p-dropdown placeholder="Select Plot Type" optionLabel="name" [options]="plotTypes"
                    optionValue="lookupDetailId" formControlName="plotTypeId">
                  </p-dropdown>
                  <span *ngIf="FormControls['plotTypeId'].touched && FormControls['plotTypeId'].invalid">
                    <div class="ng-invalid ng-touched p-error" *ngIf="FormControls['plotTypeId'].errors?.['required']">
                      Please Select Plot Type.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-4">
                  <label>Demo Plant Area:</label>
                  <p-inputNumber placeholder="Enter Demo PlantArea" formControlName="demoPlotArea" mode="decimal"
                    locale="en-IN" [minFractionDigits]="2" [maxFractionDigits]="2">
                  </p-inputNumber>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Seed Material Used:</label>
                  <p-dropdown placeholder="Select Seed Material Used" optionLabel="name" [options]="seedMaterialUsed"
                    optionValue="lookupDetailId" formControlName="seedMaterialUsedId">
                  </p-dropdown>
                  <span
                    *ngIf="FormControls['seedMaterialUsedId'].touched && FormControls['seedMaterialUsedId'].invalid">
                    <div class="ng-invalid ng-touched p-error"
                      *ngIf="FormControls['seedMaterialUsedId'].errors?.['required']">
                      Please Select Seed Material Used.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Crop Type:</label>
                  <p-dropdown placeholder="Select Crop Type" optionLabel="name" [options]="cropTypes"
                    optionValue="lookupDetailId" formControlName="cropTypeId"
                    [ngClass]="{ 'is-invalid ng-dirty': FormControls['cropTypeId'].touched && FormControls['cropTypeId'].errors }">
                  </p-dropdown>
                  <span *ngIf="FormControls['cropTypeId'].touched && FormControls['cropTypeId'].invalid">
                    <div class="ng-invalid ng-touched p-error" *ngIf="FormControls['cropTypeId'].errors?.['required']">
                      Please Select Crop Type.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-4">
                  <label>Enable For Adding Plot Additional Information:</label><br>
                  <p-inputSwitch formControlName="enabledValidation" (click)="onValidations()"> </p-inputSwitch>
                </div>
              </div>
            </p-fieldset>

            <p-fieldset legend="Plot Exist On" class="col-12" [toggleable]="true" [transitionOptions]="'500ms'">
              <div class="p-fluid p-formgrid grid">
                <div class="field col-12 md:col-4">
                  <label>Method Of Irrigation:<sup class="p-error">*</sup></label>
                  <p-dropdown placeholder="Select Method of Irrigation" optionLabel="name"
                    [options]="methodofIrrigations" optionValue="lookupDetailId"
                    [autoDisplayFirst]="autoDisplayDrowdown" formControlName="methodOfIrrigationId" appendTo="body"
                    [ngClass]="{ 'is-invalid ng-dirty': FormControls['methodOfIrrigationId'].touched && FormControls['methodOfIrrigationId'].errors }">
                  </p-dropdown>
                  <span
                    *ngIf="FormControls['methodOfIrrigationId'].touched && FormControls['methodOfIrrigationId'].invalid">
                    <div class="ng-invalid ng-touched p-error"
                      *ngIf="FormControls['methodOfIrrigationId'].errors?.['required']">
                      Please Select Method Of Irrigation.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-4">
                  <label>Distance From Plot(KM):</label>
                  <p-inputNumber placeholder="Enter Plot Distance" formControlName="distanceFromPlot" mode="decimal"
                    locale="en-IN" [minFractionDigits]="2" [maxFractionDigits]="2">
                  </p-inputNumber>
                </div>
                <div class="field col-12 md:col-4">
                  <label>Planting Method:<sup class="p-error">*</sup></label>
                  <p-dropdown placeholder="Select Planting Method" optionLabel="name" [options]="plantingMethods"
                    optionValue="lookupDetailId" formControlName="plantingMethodId" appendTo="body"
                    [autoDisplayFirst]="autoDisplayDrowdown"
                    [ngClass]="{ 'is-invalid ng-dirty': FormControls['plantingMethodId'].touched && FormControls['plantingMethodId'].errors }">
                  </p-dropdown>
                  <span *ngIf="FormControls['plantingMethodId'].touched && FormControls['plantingMethodId'].invalid">
                    <div class="ng-invalid ng-touched p-error"
                      *ngIf="FormControls['plantingMethodId'].errors?.['required']">
                      Please Select Planting Method.</div>
                  </span>
                </div>
              </div>
            </p-fieldset>
          </p-fieldset>
          <div formGroupName="plotReportsAdditionalInfo">
            <p-fieldset legend="Details1" class="col-12" [toggleable]="true" [transitionOptions]="'500ms'">
              <div class="p-fluid p-formgrid grid">
                <div class="field col-12 md:col-3">
                  <label [class.required]="this.fbPlotReport.controls['enabledValidation'].value" >Soil Type:</label>
                  <p-dropdown placeholder="Select Soil Type" optionLabel="name" [options]="soilTypes"
                    optionValue="lookupDetailId" formControlName="soilTypeId" appendTo="body"
                    [ngClass]="{ 'is-invalid ng-dirty': insideFormControls.controls['soilTypeId'].touched && insideFormControls.controls['soilTypeId'].errors }">
                  </p-dropdown>
                  <span
                    *ngIf="insideFormControls.controls['soilTypeId'].touched && insideFormControls.controls['soilTypeId'].invalid">
                    <div class="ng-invalid ng-touched p-error"
                      *ngIf="insideFormControls.controls['soilTypeId'].errors?.['required']">
                      Please Select Soil Type.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-3">
                  <label>Setts Hot Water Treatment:</label><br>
                  <p-inputSwitch formControlName="isNeedHotWaterTreatment"> </p-inputSwitch>
                </div>
                <div class="field col-12 md:col-3">
                  <label>Dust Applied:</label><br>
                  <p-inputSwitch formControlName="isDustingApplied"> </p-inputSwitch>
                </div>
                <div class="field col-12 md:col-3">
                  <label>Trash Mulching:</label><br>
                  <p-inputSwitch formControlName="isTrashMulchingDone"> </p-inputSwitch>
                </div>
                <div class="field col-12 md:col-3">
                  <label>Spacing:</label>
                  <p-dropdown placeholder="Select Spacing Info" optionLabel="name" [options]="spacingInfo"
                    optionValue="lookupDetailId" formControlName="spacingId" appendTo="body">
                  </p-dropdown>
                </div>
                <div class="field col-12 md:col-3">
                  <label>Previous Red Plot:</label><br>
                  <p-inputSwitch formControlName="isPreviouslyRedPlot"> </p-inputSwitch>
                </div>
                <div class="field col-12 md:col-3">
                  <label>Basal Fertilization:</label><br>
                  <p-inputSwitch formControlName="isBasalFertilization"> </p-inputSwitch>
                </div>
              </div>
            </p-fieldset>
            <p-fieldset legend="Details2" class="col-12" [toggleable]="true" [transitionOptions]="'500ms'">
              <div class="p-fluid p-formgrid grid">
                <div class="field col-12 md:col-3">
                  <label>Previous Land Use:<sup class="p-error"
                      *ngIf="this.subPlot.get('enabledValidation')?.value">*</sup></label>
                  <p-dropdown placeholder="Select Sugar Cane" optionLabel="name" [options]="crops"
                    optionValue="lookupDetailId" formControlName="previousCropId" appendTo="body"
                    [ngClass]="{ 'is-invalid ng-dirty': insideFormControls.controls['previousCropId'].touched && insideFormControls.controls['previousCropId'].errors }">
                  </p-dropdown>
                  <span
                    *ngIf="insideFormControls.controls['previousCropId'].touched && insideFormControls.controls['previousCropId'].invalid">
                    <div class="ng-invalid ng-touched p-error"
                      *ngIf="insideFormControls.controls['previousCropId'].errors?.['required']">
                      Select Previous Land Use.</div>
                  </span>
                </div>
                <div class="field col-12 md:col-3">
                  <label>Source Of Irrigation:</label>
                  <p-dropdown placeholder="Select Source Of Irrigation" optionLabel="name"
                    [options]="sourceofIrrigations" optionValue="lookupDetailId" formControlName="sourceOfIrrigationId"
                    appendTo="body">
                  </p-dropdown>
                </div>
              </div>
              <p-fieldset legend="Manures" class="col-12" [toggleable]="true" [transitionOptions]="'500ms'">
                <div class="p-fluid p-formgrid grid">
                  <div class="field col-12 md:col-3">
                    <label>Composite Form Yard:</label><br>
                    <p-inputSwitch formControlName="isCompositeFormYard"> </p-inputSwitch>
                  </div>
                  <div class="field col-12 md:col-3">
                    <label>Filter Press Mud:</label><br>
                    <p-inputSwitch formControlName="isFilterPressMud"> </p-inputSwitch>
                  </div>
                  <div class="field col-12 md:col-3">
                    <label>Green Manures:</label><br>
                    <p-inputSwitch formControlName="isGreenManures"> </p-inputSwitch>
                  </div>
                </div>
              </p-fieldset>
            </p-fieldset>
          </div>
          <p-fieldset legend="Area Details" class="col-12" [toggleable]="true" [transitionOptions]="'500ms'">
            <div class="p-fluid p-formgrid grid">
              <div class="field col-12 md:col-3">
                <label>Profile:</label>
                <input pInputText id="profile" type="text" placeholder="Enter Profile" formControlName="profile">
              </div>
              <div class="field col-12 md:col-3">
                <label>Total Area (Acre):</label>
                <p-inputNumber placeholder="Enter Total Area" formControlName="totalArea" mode="decimal" locale="en-IN"
                  [minFractionDigits]="2" [maxFractionDigits]="2">
                </p-inputNumber>
              </div>
              <div class="field col-12 md:col-3">
                <label>Cultivated Area (Acre):</label>
                <p-inputNumber placeholder="Enter Cultivated Area" formControlName="cultivatedArea" mode="decimal"
                  locale="en-IN" [minFractionDigits]="2" [maxFractionDigits]="2">
                </p-inputNumber>
              </div>
            </div>
          </p-fieldset>
        </form>
      </div>
    </ng-template>
    <ng-template pTemplate="footer">
      <div class="col-4" style="float:right">
        <button pButton pRipple type="submit" [label]="submitLabel" class="p-button-raised p-button-success"
          (click)="onSubmit()"></button>
      </div>
    </ng-template>
  </p-dialog>

</div>
</div>
